{"schemas":"DEFINE TABLE chat_edge SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD in ON TABLE chat_edge;\nDEFINE FIELD out ON TABLE chat_edge;\n// TODO: Messages count, autoincrement\nDEFINE FIELD messages_count ON chat_edge TYPE int DEFAULT 0;\n// TODO: Unread messages count, autoincrement\nDEFINE FIELD unread_messages_count ON chat_edge TYPE int DEFAULT 0;\nDEFINE FIELD disabled_by_in ON chat_edge TYPE bool DEFAULT false;\nDEFINE FIELD disabled_by_out ON chat_edge TYPE bool DEFAULT false;\nDEFINE FIELD created_at ON chat_edge TYPE datetime DEFAULT time::now();\n// TODO: Trigger if new messags\nDEFINE FIELD updated_at ON chat_edge TYPE datetime VALUE time::now();\n\nDEFINE INDEX unique_relationship \n    ON TABLE chat_edge \n    COLUMNS in, out UNIQUE;\nDEFINE TABLE chat_message SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD message ON chat_message TYPE string;\nDEFINE FIELD reaction ON chat_message TYPE string;\nDEFINE FIELD created_at ON chat_message TYPE datetime DEFAULT time::now();\nDEFINE FIELD updated_at ON chat_message TYPE datetime VALUE time::now();\nDEFINE TABLE interest TYPE ANY SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD en ON interest TYPE string PERMISSIONS FULL;\nDEFINE TABLE interest TYPE ANY SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD en ON interest TYPE string PERMISSIONS FULL;\nDEFINE TABLE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD script_name ON script_migration TYPE string;\nDEFINE FIELD executed_at ON script_migration TYPE datetime VALUE time::now() READONLY;\nDEFINE TABLE user TYPE ANY SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD email ON user TYPE string ASSERT string::is::email($value) PERMISSIONS FULL;\nDEFINE FIELD username ON user TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD last_name ON user TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD first_name ON user TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD birth_date ON user TYPE datetime | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD age ON user TYPE number | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD gender ON user TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD preference ON user TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD goal ON user TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD interests ON user TYPE array<string> | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD metric ON user TYPE bool DEFAULT true PERMISSIONS FULL;\nDEFINE FIELD height ON user TYPE number | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD weight ON user TYPE number | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD bio ON user TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD current_location ON user TYPE point | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD max_distance ON user TYPE number DEFAULT 25 PERMISSIONS FULL;\nDEFINE FIELD age_range ON user TYPE array<number> | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD max_match_count ON user TYPE number DEFAULT 10 PERMISSIONS FULL;\nDEFINE FIELD active_hours ON user TYPE array<number> | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD has_pet ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD has_car ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD has_house ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD need_pet ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD need_car ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD need_house ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD open_for_travel_together ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD is_registration_completed ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD is_paid_travel ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD is_verified ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD is_banned ON user TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD created_at ON user TYPE datetime DEFAULT time::now() PERMISSIONS FULL;\nDEFINE FIELD updated_at ON user TYPE datetime VALUE time::now() PERMISSIONS FULL;\n\nDEFINE INDEX user_email_index ON user FIELDS email UNIQUE;\nDEFINE INDEX user_name_index ON user FIELDS username UNIQUE;\nDEFINE TABLE user_edge TYPE ANY SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD in ON user_edge PERMISSIONS FULL;\nDEFINE FIELD out ON user_edge PERMISSIONS FULL;\nDEFINE FIELD in_swipe ON user_edge TYPE bool | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD out_swipe ON user_edge TYPE bool | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD is_super_swipe ON user_edge TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD created_at ON user_edge TYPE datetime DEFAULT time::now() PERMISSIONS FULL;\nDEFINE FIELD updated_at ON user_edge TYPE datetime VALUE time::now() PERMISSIONS FULL;\n\nDEFINE INDEX unique_relationship ON user_edge FIELDS in, out UNIQUE;\n\nDEFINE TABLE user_image SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD height ON user_image TYPE int;\nDEFINE FIELD width ON user_image TYPE int;\nDEFINE FIELD url ON user_image TYPE string;\nDEFINE FIELD mime_type ON user_image TYPE string;\nDEFINE FIELD blurhash ON user_image TYPE string;\nDEFINE FIELD file_name ON user_image TYPE string;\nDEFINE FIELD is_default ON user_image TYPE bool DEFAULT false;\nDEFINE FIELD created_at ON user_image TYPE datetime DEFAULT time::now();","events":""}