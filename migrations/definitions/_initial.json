{"schemas":"DEFINE TABLE chat_messages SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD message ON chat_messages TYPE string;\nDEFINE FIELD created_at ON users TYPE datetime DEFAULT time::now();\nDEFINE FIELD updated_at ON users TYPE datetime VALUE time::now();\nDEFINE TABLE chats SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD in ON TABLE chats;\nDEFINE FIELD out ON TABLE chats;\nDEFINE FIELD disabled_by_in ON chats TYPE bool DEFAULT false;\nDEFINE FIELD disabled_by_out ON chats TYPE bool DEFAULT false;\nDEFINE FIELD created_at ON chats TYPE datetime DEFAULT time::now();\n// TODO: Trigger if new messags\nDEFINE FIELD updated_at ON chats TYPE datetime VALUE time::now();\n\nDEFINE INDEX unique_relationship \n    ON TABLE chats \n    COLUMNS in, out UNIQUE;\n\n// TODO: Messages count\nDEFINE TABLE interests TYPE ANY SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD en ON interests TYPE string PERMISSIONS FULL;\n\nINSERT INTO interests (en) \n    VALUES \n        ('Travel'), \n        ('Outdoors'), \n        ('Tattoo'), \n        ('Music'), \n        ('Books'), \n        ('Movies'), \n        ('Write'), \n        ('Dancing'), \n        ('Sports'), \n        ('Dog'), \n        ('Work'), \n        ('Adventure'), \n        ('Hiking'), \n        ('Fishing'), \n        ('Camping'), \n        ('Beach'), \n        ('Cook'), \n        ('Eat'), \n        ('Beer'), \n        ('Food'), \n        ('Drink'), \n        ('Pizza'), \n        ('Family'), \n        ('Laugh'), \n        ('Animals'), \n        ('Cat'), \n        ('Coffee'), \n        ('Wine'), \n        ('Gym'), \n        ('Active'), \n        ('Walks'), \n        ('Fitness'), \n        ('Concerts'), \n        ('Video Games'), \n        ('Netflix'), \n        ('Hunting'), \n        ('Student'), \n        ('Nerd'), \n        ('Jokes'), \n        ('God');\nDEFINE TABLE matches SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD in ON matches;\nDEFINE FIELD out ON matches;\nDEFINE FIELD created_at ON matches TYPE datetime DEFAULT time::now();\nDEFINE FIELD updated_at ON matches TYPE datetime VALUE time::now();\n\nDEFINE INDEX unique_relationship \n    ON TABLE matches \n    COLUMNS in, out UNIQUE;\n\nDEFINE TABLE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD script_name ON script_migration TYPE string;\nDEFINE FIELD executed_at ON script_migration TYPE datetime VALUE time::now() READONLY;\nDEFINE TABLE user_images SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD height ON user_images TYPE int;\nDEFINE FIELD width ON user_images TYPE int;\nDEFINE FIELD url ON user_images TYPE string;\nDEFINE FIELD mime_type ON user_images TYPE string;\nDEFINE FIELD blurhash ON user_images TYPE string;\nDEFINE FIELD file_name ON user_images TYPE string;\nDEFINE FIELD is_default ON user_images TYPE bool DEFAULT false;\nDEFINE FIELD created_at ON users TYPE datetime DEFAULT time::now();\nDEFINE TABLE users TYPE ANY SCHEMAFULL PERMISSIONS NONE;\n\nDEFINE FIELD email ON users TYPE string ASSERT string::is::email($value) PERMISSIONS FULL;\nDEFINE FIELD username ON users TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD last_name ON users TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD first_name ON users TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD birth_date ON users TYPE datetime | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD age ON users TYPE int | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD gender ON users TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD preference ON users TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD goal ON users TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD metric ON users TYPE bool DEFAULT true PERMISSIONS FULL;\nDEFINE FIELD height ON users TYPE int | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD weight ON users TYPE int | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD bio ON users TYPE string | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD interests ON users TYPE array<string> | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD current_location ON users TYPE point | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD max_distance ON users TYPE int DEFAULT 25 PERMISSIONS FULL;\nDEFINE FIELD age_range ON users TYPE array<int> | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD max_match_count ON users TYPE int DEFAULT 10 PERMISSIONS FULL;\nDEFINE FIELD active_hours ON users TYPE array<int> | null DEFAULT NULL PERMISSIONS FULL;\nDEFINE FIELD has_pet ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD has_car ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD has_house ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD need_pet ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD need_car ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD need_house ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD open_for_travel_together ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD is_registration_completed ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD is_paid_travel ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD is_verified ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD is_banned ON users TYPE bool DEFAULT false PERMISSIONS FULL;\nDEFINE FIELD created_at ON users TYPE datetime DEFAULT time::now() PERMISSIONS FULL;\nDEFINE FIELD updated_at ON users TYPE datetime VALUE time::now() PERMISSIONS FULL;\n\nDEFINE INDEX user_email_index ON users FIELDS email UNIQUE;\nDEFINE INDEX user_name_index ON users FIELDS username UNIQUE;","events":""}